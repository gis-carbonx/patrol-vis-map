<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leaflet Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css"/>
<style>
html,body,#map{height:100%;margin:0}
#map-title{position:absolute;top:10px;left:50%;transform:translateX(-50%);font-size:24px;font-weight:bold;color:black;text-shadow:0 0 5px white;z-index:1000;pointer-events:none}
.leaflet-measure-label{display:none}
</style>
</head>
<body>
<div id="map-title">My Leaflet Map</div>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
<script src="https://unpkg.com/leaflet-geometryutil"></script>
<script>
var map = L.map('map',{center:[-6.1751,106.865],zoom:12});

var baseMaps = {
  "OSM": L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'© OSM'}).addTo(map),
  "Topo": L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png',{attribution:'© OpenTopoMap'}),
  "Carto": L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{attribution:'&copy; CARTO'})
};
L.control.layers(baseMaps).addTo(map);

var drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

var drawControl = new L.Control.Draw({
  draw: {
    polyline: {shapeOptions:{color:'red'},metric:true},
    polygon: {allowIntersection:false,shapeOptions:{color:'blue'},showArea:true,metric:true},
    rectangle: {shapeOptions:{color:'green'}},
    circle: false, circlemarker:false, marker:false
  },
  edit: { featureGroup: drawnItems }
});
map.addControl(drawControl);

map.on(L.Draw.Event.CREATED, function(e){
  var layer = e.layer;
  drawnItems.addLayer(layer);
  if(layer instanceof L.Polyline && !(layer instanceof L.Polygon)){
    var distance = L.GeometryUtil.geodesicLength(layer.getLatLngs());
    alert("Jarak: " + (distance/1000).toFixed(2) + " km");
  } else if(layer instanceof L.Polygon){
    var area = L.GeometryUtil.geodesicArea(layer.getLatLngs()[0]);
    alert("Luas: " + (area/10000).toFixed(2) + " ha");
  }
});
</script>
</body>
</html>
